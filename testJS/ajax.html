<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        table,
        th,
        td {
            border: 1px solid black;
            border-collapse: collapse;
        }
        
        th,
        td {
            padding: 5px;
        }
    </style>
</head>

<body>

    <!-- <div id="test_ajax">
        <h2>The XMLHttpRequest Object</h2>
        <button type="button" onclick="loadDoc()">Change Content</button>

    </div> -->
    <!-- Audio -->
    <!-- 
    <audio controls preload="auto">
        <source src="audiofile.mp3" type="audio/mpeg" /> -->

    <!-- fallback for browsers that don't support mp3 -->
    <!-- <source src="audiofile.ogg" type="audio/ogg" /> -->

    <!-- fallback for browsers that don't support audio tag -->
    <!-- <a href="audiofile.mp3">download audio</a>
      </audio>

    <br> -->
    <!-- VIdeo -->
    <!-- <video controls width="640" height="480" poster="initialimage.png" autoplay muted>
  <source src="videofile.mp4" type="video/mp4" /> -->

    <!-- fallback for browsers that don't support mp4 -->
    <!-- <source src="videofile.webm" type="video/webm" /> -->

    <!-- specifying subtitle files -->
    <!-- <track src="subtitles_en.vtt" kind="subtitles" srclang="en" label="English" />
  <track
    src="subtitles_no.vtt"
    kind="subtitles"
    srclang="no"
    label="Norwegian" /> -->

    <!-- fallback for browsers that don't support video tag -->
    <!-- <a href="videofile.mp4">download video</a>
</video> -->


    <!-- A quick example â€” first set up your audio and custom controls in HTML:(EX1) -->
    <!-- <audio id="my-audio" src="http://jPlayer.org/audio/mp3/Miaow-01-Tempered-song.mp3"></audio>
    <button id="my-control">play</button> -->

    <!-- EX2 -->
    <!-- 
    <video controls>
        <source src="dynamicsearch.mp4" type="video/mp4"></source>
        <a href="dynamicsearch.mp4">
          <img src="dynamicsearch.jpg" alt="Dynamic app search in Firefox OS">
        </a>
        <p>Click image to play a video demo of dynamic app search</p>
      </video> -->


    <!-- Ajax -->

    <!-- <div id="demo">
        <h1>The XMLHttpRequest Object</h1>
        <button type="button" onclick="loadDoc()">Change Content</button>
    </div>

-->


    <!-- EX2: -->
    <!-- 

    <div id="demo">

        <h1>The XMLHttpRequest Object</h1>

        <button type="button" onclick="loadDoc('ajax_info.txt', myFunction)">Change Content
        </button>
    </div>

 -->

    <h1>The XMLHttpRequest Object</h1>

    <button type="button" onclick="loadDoc()">Get my CD collection</button>
    <br><br>
    <table id="demo"></table>







    <script>
        /*
                function loadDoc() {
                    const xhttp = new XMLHttpRequest();
                    xhttp.onload = function() {
                        document.getElementById("test_ajax").innerHTML = this.responseText;
                    }
                    xhttp.open("GET", "ajax_info.txt", true);
                    xhttp.send();
                }
                //EX1
                window.onload = () => {
                    const myAudio = document.getElementById("my-audio");
                    const myControl = document.getElementById("my-control");

                    function switchState() {
                        if (myAudio.paused) {
                            myAudio.play();
                            myControl.textContent = "pause";
                        } else {
                            myAudio.pause();
                            myControl.textContent = "play";
                        }
                    }

                    function checkKey(e) {
                        if (e.keycode === 32) {
                            // space bar
                            switchState();
                        }
                    }

                    myControl.addEventListener(
                        "click",
                        () => {
                            switchState();
                        },
                        false
                    );

                    window.addEventListener("keypress", checkKey, false);
                };


                //EX02

                const v = document.querySelector("video");
                const sources = v.querySelectorAll("source");
                const lastsource = sources[sources.length - 1];
                lastsource.addEventListener(
                        "error",
                        (ev) => {
                            const d = document.createElement("div");
                            d.innerHTML = v.innerHTML;
                            v.parentNode.replaceChild(d, v);
                        },
                        false



                        //Ajax:
                        /* function loadDoc() {
                             var xhttp = new XMLHttpRequest();
                             xhttp.onreadystatechange = function() {
                                 if (this.readyState == 4 && this.status == 200) {
                                     document.getElementById("demo").innerHTML =
                                         this.responseText;
                                 }
                             };
                             xhttp.open("GET", "ajax_info.txt", true);
                             xhttp.send();
                         }

                         */



        //EX2:

        /*
                function myFunction(xhttp) {
                    document.getElementByID("demo2").innerHTML = xhttp.responseText;
                }

                function loadDoc(url, cFunction) {
                    var xhttp;
                    xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            cFunction(this);
                        }
                    };
                    xhttp.open("GET", url, true);
                    xhttp.send();
                }

                function myFunction(xhttp) {
                    document.getElementById("demo").innerHTML =
                        xhttp.responseText;
                }

                */

        function loadDoc() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    myFunction(this);
                }
            };
            xhttp.open("GET", "cd_catalog.xml", true);
            xhttp.send();
        }

        /* function myFunction(xml) {
             var i;
             var xmlDoc = xml.responseXML;
             var table = "<tr><th>Artist</th><th>Title</th></tr>";
             var x = xmlDoc.getElementsByTagName("CD");
             for (i = 0; i < x.length; i++) {
                 table += "<tr><td>" +
                     x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue +
                     "</td><td>" +
                     x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
                     "</td></tr>";
             }
             document.getElementById("demo").innerHTML = table;
         }

         */
    </script>


</body>

</html>